groups:
- name: container_down
  rules:
  - alert: container_not_running
    expr: |
       min( (time() - container_last_seen{name=~".+",instance=~".+"}) ) by (name,instance) > 230
#       (time() - container_last_seen{name=~".+"}) > 200
#      time() - container_last_seen{name="live-front-test"} > 10
#        or
#      time() - container_last_seen{name="minio"} > 10
#        or
#      time() - container_last_seen{name="harbor-db"} >10
#        or
#      time() - container_last_seen{name="harbor-core"} >10
    for: 20s
    labels:
      severity: critical
    annotations:
      summary: Container "{{ $labels.name }}" is down  ip= "{{ $labels.instance }}   path= "{{ $labels.container_label_com_docker_compose_project_config_files }}" "
